# SEO Analyzer 開發檢查清單
*每次開發任務的實用檢查指南*

## 🚀 開發任務啟動檢查清單

### 環境準備
- [ ] **開發環境檢查**
  - [ ] Node.js 18+ 已安裝
  - [ ] Python 3.13+ 已安裝  
  - [ ] uv 套件管理器已安裝
  - [ ] VSCode 相關擴展已啟用

- [ ] **專案依賴確認**
  ```bash
  cd frontend && npm install
  cd backend && uv sync
  ```

- [ ] **配置檔案檢查**
  - [ ] `backend/config.ini` 已設定 SERP_API_KEY
  - [ ] `backend/config.ini` 已設定 AZURE_OPENAI_KEY
  - [ ] 前端環境變數 `.env` 已配置

- [ ] **服務啟動測試**
  ```bash
  # 後端健康檢查
  curl http://localhost:8000/api/health
  
  # 前端服務檢查  
  curl http://localhost:3000
  ```

---

## 📝 功能開發檢查清單

### 前端元件開發
- [ ] **元件架構**
  - [ ] 使用功能導向目錄結構 (`features/`)
  - [ ] 元件命名採用 PascalCase
  - [ ] 適當的檔案組織 (component, hook, types)

- [ ] **TypeScript 要求**
  - [ ] 嚴格型別定義，避免 any
  - [ ] Props 介面完整定義
  - [ ] Hook 返回值型別明確
  ```typescript
  // ✅ 正確示範
  interface ComponentProps {
    title: string;
    onSubmit: (data: FormData) => void;
  }
  
  const useCustomHook = (): [State, Actions] => {
    // 實作
    return [state, actions] as const;
  };
  ```

- [ ] **樣式與響應式**
  - [ ] 使用 Tailwind CSS 類別
  - [ ] 測試三種斷點 (Mobile 320px, Tablet 768px, Desktop 1024px+)
  - [ ] 避免固定寬度，使用 flex/grid

- [ ] **無障礙性 (a11y)**
  - [ ] 語義化 HTML 標籤
  - [ ] 適當的 ARIA 標籤
  - [ ] 鍵盤導航支援
  - [ ] focus 狀態清晰可見

### 後端 API 開發
- [ ] **API 設計規範**
  - [ ] 遵循雙欄位回應格式 (status + success)
  - [ ] 使用扁平化資料結構
  - [ ] 錯誤訊息使用繁體中文
  ```python
  # ✅ 正確的 API 回應格式
  return {
      "status": "success",
      "success": True,
      "analysis_report": report_content,
      "processing_time": elapsed_time
  }
  ```

- [ ] **型別安全**
  - [ ] Pydantic 模型完整定義
  - [ ] 函式型別提示完整
  - [ ] 異步函式使用 async/await

- [ ] **錯誤處理**
  - [ ] 自訂例外類別
  - [ ] 統一錯誤回應格式
  - [ ] 適當的 HTTP 狀態碼

---

## 🧪 測試要求檢查清單

### 前端測試
- [ ] **單元測試**
  - [ ] Hook 邏輯測試 (React Testing Library)
  - [ ] 元件渲染測試
  - [ ] 工具函式測試
  
- [ ] **整合測試**
  - [ ] API 整合測試 (Mock Service Worker)
  - [ ] 表單提交流程測試
  - [ ] 錯誤處理測試

### 後端測試
- [ ] **API 測試**
  - [ ] 端點功能測試 (pytest + httpx)
  - [ ] 請求驗證測試  
  - [ ] 錯誤情境測試
  
- [ ] **服務測試**
  - [ ] 業務邏輯單元測試
  - [ ] 外部 API 整合測試 (mock)
  - [ ] 資料模型驗證測試

### 測試覆蓋率
- [ ] **目標覆蓋率**
  - [ ] 整體測試覆蓋率 ≥ 85%
  - [ ] 關鍵業務邏輯 100%
  - [ ] API 端點覆蓋率 100%

---

## 🔧 代碼品質檢查清單

### 提交前自動檢查
```bash
# 前端品質檢查
cd frontend
npm run type-check    # TypeScript 檢查
npm run lint         # ESLint 規則檢查  
npm run test:run     # 測試執行
npm run build        # 建置驗證

# 後端品質檢查
cd backend  
uv run mypy app/     # 型別檢查
uv run ruff check    # 程式碼風格檢查
uv run pytest       # 測試執行
```

### 程式碼審查要點
- [ ] **可讀性**
  - [ ] 變數命名語義化
  - [ ] 複雜邏輯有中文註解
  - [ ] 函式職責單一明確

- [ ] **效能考量**
  - [ ] 避免不必要的重渲染 (React.memo, useMemo)
  - [ ] API 呼叫有適當快取
  - [ ] 大型清單使用虛擬化

- [ ] **安全性**
  - [ ] 使用者輸入適當驗證和消毒
  - [ ] API 密鑰不硬編碼  
  - [ ] CORS 設定適當限制

---

## 📊 效能最佳化檢查清單

### 前端效能
- [ ] **核心 Web 指標**
  - [ ] FCP (First Contentful Paint) < 1.5s
  - [ ] LCP (Largest Contentful Paint) < 2.5s  
  - [ ] CLS (Cumulative Layout Shift) < 0.1
  - [ ] FID (First Input Delay) < 100ms

- [ ] **最佳化策略**
  - [ ] 程式碼分割 (Code Splitting)
  - [ ] 圖片最佳化和懶載入
  - [ ] 字型載入最佳化
  - [ ] Bundle 分析確認大小合理

### 後端效能
- [ ] **API 回應時間**
  - [ ] 一般 API < 500ms
  - [ ] SEO 分析 API < 60s  
  - [ ] 健康檢查 < 100ms

- [ ] **資源使用**
  - [ ] 記憶體使用穩定
  - [ ] CPU 使用率合理
  - [ ] 適當的快取策略

---

## 🔒 安全性檢查清單

### API 安全
- [ ] **身份驗證**
  - [ ] API 密鑰妥善保護
  - [ ] 請求驗證完整
  - [ ] 適當的限流機制

- [ ] **資料安全**
  - [ ] 敏感資料不記錄在日誌
  - [ ] 輸入驗證防止注入攻擊
  - [ ] HTTPS 強制使用

### 前端安全
- [ ] **XSS 防護**
  - [ ] 使用者輸入適當消毒
  - [ ] React 自動轉義利用
  - [ ] 危險的 innerHTML 避免使用

- [ ] **敏感資訊**
  - [ ] API 密鑰透過環境變數
  - [ ] 本地儲存不含敏感資料
  - [ ] 錯誤訊息不洩漏系統資訊

---

## 🚨 常見問題預防檢查清單

### TypeScript 配置問題
- [ ] **import/export 檢查**
  - [ ] 型別導入使用 `import type`
  - [ ] 避免複雜的泛型約束
  - [ ] ESLint 規則與 TS 配置一致

### 響應式佈局問題  
- [ ] **測試不同螢幕尺寸**
  - [ ] 320px 極窄螢幕測試
  - [ ] 1920px 寬螢幕測試
  - [ ] iPad 橫豎屏測試

- [ ] **避免常見錯誤**
  - [ ] Sidebar 不與主內容重疊
  - [ ] 按鈕觸控區域 ≥ 44px
  - [ ] 文字在小螢幕上可讀

### API 整合問題
- [ ] **格式一致性**
  - [ ] 前端請求格式符合後端期望
  - [ ] 後端回應格式符合前端處理
  - [ ] 錯誤處理格式統一

---

## 📋 部署前檢查清單

### 環境配置
- [ ] **設定檔檢查**
  - [ ] 生產環境變數設定
  - [ ] SSL 證書有效
  - [ ] 資料庫連接設定

- [ ] **服務依賴**
  - [ ] SerpAPI 配額充足
  - [ ] Azure OpenAI 服務正常
  - [ ] 網域 DNS 設定正確

### 功能驗證  
- [ ] **端到端測試**
  - [ ] 完整 SEO 分析流程
  - [ ] 三階段進度追蹤
  - [ ] 錯誤處理機制

- [ ] **效能測試**
  - [ ] 負載測試通過
  - [ ] 記憶體洩漏檢查
  - [ ] 並發處理能力確認

### 監控設置
- [ ] **日誌機制**
  - [ ] 錯誤日誌正常記錄
  - [ ] 效能指標收集
  - [ ] 告警機制設定

---

## 🔄 持續改善檢查清單

### 程式碼審查
- [ ] **同儕審查**
  - [ ] Pull Request 完整描述
  - [ ] 程式碼變更合理性檢查
  - [ ] 測試覆蓋變更部分

### 技術債務管理
- [ ] **定期檢視**
  - [ ] TODO 註解整理
  - [ ] 過時依賴更新
  - [ ] 效能瓶頸識別

### 文檔維護
- [ ] **同步更新**
  - [ ] API 文檔與實作一致
  - [ ] README 資訊最新
  - [ ] 開發指南及時更新

---

## 📞 問題求助指引

### 技術問題診斷順序
1. **檢查錯誤日誌** - 查看詳細錯誤訊息
2. **確認環境設定** - 驗證配置檔案和環境變數
3. **測試隔離** - 建立最小重現案例
4. **查閱專案文檔** - 檢查相關規格和決策紀錄
5. **尋求協助** - 提供完整的問題描述和環境資訊

### 提問建議格式
```markdown
## 問題描述
簡潔描述遇到的問題

## 環境資訊  
- Node.js 版本:
- Python 版本:
- 瀏覽器版本:

## 重現步驟
1. 第一步操作
2. 第二步操作
3. 問題出現

## 期望結果
描述期望看到的正確行為

## 實際結果
描述實際發生的錯誤行為

## 相關日誌
```log
錯誤日誌內容
```

## 已嘗試解決方案
說明已經嘗試過的解決方法
```

---

**此檢查清單應該成為每次開發工作的標準流程，確保代碼品質和專案穩定性。建議將常用檢查項目加入個人開發習慣中。**

---
*最後更新: 2025-09-05*
*版本: v1.0*  
*配合 development-rules.md 使用*