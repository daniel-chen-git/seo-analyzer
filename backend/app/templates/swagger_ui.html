<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}} - API æ–‡æª”</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVFiFtZe9axRBFMafWQwWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW">
    
    <!-- Swagger UI CSS -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui.css" />
    
    <!-- è‡ªå®šç¾©æ¨£å¼æª”æ¡ˆ -->
    <link rel="stylesheet" type="text/css" href="/static/css/custom-swagger.css" />
    
    <!-- è‡ªå®šç¾©æ¨£å¼ -->
    <style>
        /* å“ç‰ŒåŒ–æ¨£å¼ */
        .swagger-ui .topbar {
            background-color: #1a365d;
            padding: 20px 0;
        }
        
        .swagger-ui .topbar .download-url-wrapper {
            display: none;
        }
        
        /* è‡ªå®šç¾©æ¨™é¡Œå€ */
        .custom-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 0;
            text-align: center;
            margin-bottom: 0;
        }
        
        .custom-header h1 {
            font-size: 2.5rem;
            margin: 0 0 10px 0;
            font-weight: 700;
        }
        
        .custom-header p {
            font-size: 1.1rem;
            margin: 0;
            opacity: 0.9;
        }
        
        .custom-header .version-badge {
            display: inline-block;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        /* å°èˆªé¸å–®æ¨£å¼ */
        .nav-menu {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-item {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px 20px;
            border-radius: 25px;
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            color: white;
            text-decoration: none;
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .nav-item .nav-icon {
            font-size: 1.1em;
        }

        .nav-item .nav-label {
            font-size: 0.95rem;
        }
        
        /* åŠŸèƒ½ç‰¹è‰²å€å¡Š */
        .features-section {
            background-color: #f7fafc;
            padding: 40px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #667eea;
        }
        
        .feature-card h3 {
            color: #2d3748;
            margin: 0 0 15px 0;
            font-size: 1.25rem;
        }
        
        .feature-card p {
            color: #4a5568;
            margin: 0 0 15px 0;
            line-height: 1.6;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .feature-list li {
            color: #4a5568;
            padding: 5px 0;
            position: relative;
            padding-left: 20px;
        }
        
        .feature-list li:before {
            content: "âœ“";
            color: #48bb78;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
        
        /* å¿«é€Ÿé–‹å§‹å€å¡Š */
        .quick-start {
            background-color: #ffffff;
            padding: 40px 0;
        }
        
        .quick-start h2 {
            color: #2d3748;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        
        .example-code {
            background-color: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }
        
        .example-code h4 {
            color: #4a5568;
            margin: 0 0 15px 0;
            font-size: 1.1rem;
        }
        
        .example-code pre {
            margin: 0;
            color: #2d3748;
            overflow-x: auto;
        }
        
        /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
        @media (max-width: 768px) {
            .custom-header h1 {
                font-size: 2rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 0 15px;
            }

            .nav-menu {
                margin-top: 20px;
                gap: 8px;
            }

            .nav-item {
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .nav-item .nav-icon {
                font-size: 1em;
            }

            .nav-item .nav-label {
                font-size: 0.85rem;
            }
        }
        
        /* Swagger UI è‡ªå®šç¾© */
        .swagger-ui .info {
            display: none;
        }
        
        .swagger-ui .scheme-container {
            background: #fafafa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        /* API ç¯„ä¾‹å€å¡Šæ¨£å¼ */
        .api-examples-section {
            background: #ffffff;
            padding: 50px 0;
            border-top: 1px solid #e2e8f0;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .example-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .example-card h3 {
            color: #2d3748;
            margin: 0 0 20px 0;
            font-size: 1.3rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .example-description p {
            color: #4a5568;
            line-height: 1.6;
            margin: 0 0 20px 0;
        }

        .code-block {
            background: #2d3748;
            border-radius: 8px;
            overflow: hidden;
            margin: 15px 0;
        }

        .code-header {
            background: #1a202c;
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .code-header span {
            color: #a0aec0;
            font-size: 0.9rem;
            font-family: monospace;
        }

        .copy-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .copy-btn:hover {
            background: #5a67d8;
        }

        .code-block pre {
            margin: 0;
            padding: 20px;
            overflow-x: auto;
            color: #e2e8f0;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .performance-metrics {
            margin-top: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
        }

        .performance-metrics h3 {
            margin: 0 0 30px 0;
            font-size: 1.5rem;
            text-align: center;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }

        .metric-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        .metric-item h4 {
            margin: 0 0 15px 0;
            font-size: 1.1rem;
        }

        .metric-item p {
            margin: 0;
            line-height: 1.6;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <!-- è‡ªå®šç¾©æ¨™é¡Œå€ -->
    <div class="custom-header">
        <div class="container">
            <h1>ğŸ” SEO Analyzer API</h1>
            <p>æ™ºèƒ½ SEO é—œéµå­—åˆ†æå·¥å…· - 60 ç§’å…§ç”Ÿæˆå°ˆæ¥­åˆ†æå ±å‘Š</p>
            <div class="version-badge">ç‰ˆæœ¬ v1.0.0</div>
            
            <!-- æ–‡æª”å°èˆªé¸å–® -->
            <div class="nav-menu">
                <a href="/docs" class="nav-item active">
                    <span class="nav-icon">ğŸ“–</span>
                    <span class="nav-label">API æ–‡æª”</span>
                </a>
                <a href="/docs/faq" class="nav-item">
                    <span class="nav-icon">â“</span>
                    <span class="nav-label">å¸¸è¦‹å•é¡Œ</span>
                </a>
                <a href="/docs/tutorial" class="nav-item">
                    <span class="nav-icon">ğŸ“š</span>
                    <span class="nav-label">ä½¿ç”¨æ•™å­¸</span>
                </a>
                <a href="/docs/errors" class="nav-item">
                    <span class="nav-icon">ğŸ›¡ï¸</span>
                    <span class="nav-label">éŒ¯èª¤è™•ç†</span>
                </a>
                <a href="/docs/performance" class="nav-item">
                    <span class="nav-icon">âš¡</span>
                    <span class="nav-label">æ•ˆèƒ½å„ªåŒ–</span>
                </a>
            </div>
        </div>
    </div>
    
    <!-- åŠŸèƒ½ç‰¹è‰²å€ -->
    <div class="features-section">
        <div class="container">
            <h2 style="text-align: center; color: #2d3748; margin-bottom: 20px;">æ ¸å¿ƒåŠŸèƒ½ç‰¹è‰²</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>ğŸš€ é«˜æ•ˆèƒ½åˆ†æ</h3>
                    <p>å¹³å‡è™•ç†æ™‚é–“åƒ…éœ€ 20-35 ç§’ï¼Œä¿è­‰åœ¨ 60 ç§’å…§å®Œæˆåˆ†æ</p>
                    <ul class="feature-list">
                        <li>ä¸¦è¡Œè™•ç†æŠ€è¡“</li>
                        <li>æ™ºèƒ½é‡è©¦æ©Ÿåˆ¶</li>
                        <li>å¯¦æ™‚æ•ˆèƒ½ç›£æ§</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ” çœŸå¯¦æ•¸æ“šåˆ†æ</h3>
                    <p>ä½¿ç”¨ SerpAPI æ“·å– Google çœŸå¯¦æœå°‹çµæœ</p>
                    <ul class="feature-list">
                        <li>å³æ™‚ SERP æ•¸æ“š</li>
                        <li>ç«¶çˆ­å°æ‰‹åˆ†æ</li>
                        <li>å¸‚å ´è¶¨å‹¢æ´å¯Ÿ</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ¤– AI æ·±åº¦åˆ†æ</h3>
                    <p>Azure OpenAI GPT-4o æä¾›å°ˆæ¥­ SEO å»ºè­°</p>
                    <ul class="feature-list">
                        <li>æ™ºèƒ½å…§å®¹åˆ†æ</li>
                        <li>å€‹æ€§åŒ–å»ºè­°</li>
                        <li>å¯åŸ·è¡Œç­–ç•¥</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- å¿«é€Ÿé–‹å§‹å€ -->
    <div class="quick-start">
        <div class="container">
            <h2>ğŸ“š å¿«é€Ÿé–‹å§‹</h2>
            
            <div class="example-code">
                <h4>1. åŸºæœ¬ SEO åˆ†æè«‹æ±‚</h4>
                <pre><code>curl -X POST "http://localhost:8001/api/analyze" \
  -H "Content-Type: application/json" \
  -d '{
    "keyword": "Python æ•™å­¸",
    "audience": "ç¨‹å¼åˆå­¸è€…",
    "options": {
      "generate_draft": true,
      "include_faq": true,
      "include_table": false
    }
  }'</code></pre>
            </div>
            
            <div class="example-code">
                <h4>2. å¥åº·æª¢æŸ¥</h4>
                <pre><code>curl http://localhost:8001/api/health</code></pre>
            </div>
            
            <div class="example-code">
                <h4>3. ç‰ˆæœ¬è³‡è¨Š</h4>
                <pre><code>curl http://localhost:8001/api/version</code></pre>
            </div>
        </div>
    </div>
    
    <!-- API ä½¿ç”¨ç¯„ä¾‹å€å¡Š -->
    <div class="api-examples-section">
        <div class="container">
            <h2>ğŸ’¡ å¸¸ç”¨ç¯„ä¾‹</h2>
            
            <div class="examples-grid">
                <!-- åŸºç¤åˆ†æç¯„ä¾‹ -->
                <div class="example-card">
                    <h3>ğŸ” åŸºç¤é—œéµå­—åˆ†æ</h3>
                    <div class="example-content">
                        <div class="example-description">
                            <p>é©ç”¨æ–¼åˆæ¬¡åˆ†ææŸå€‹é—œéµå­—ï¼Œå¿«é€Ÿäº†è§£ç«¶çˆ­ç‹€æ³å’Œå„ªåŒ–æ–¹å‘ã€‚</p>
                        </div>
                        <div class="code-block">
                            <div class="code-header">
                                <span>POST /api/analyze</span>
                                <button class="copy-btn" onclick="copyToClipboard('basic-example')">è¤‡è£½</button>
                            </div>
                            <pre id="basic-example"><code>{
  "keyword": "Python æ•™å­¸",
  "audience": "ç¨‹å¼åˆå­¸è€…",
  "options": {
    "generate_draft": false,
    "include_faq": false,
    "include_table": false
  }
}</code></pre>
                        </div>
                    </div>
                </div>
                
                <!-- å®Œæ•´åˆ†æç¯„ä¾‹ -->
                <div class="example-card">
                    <h3>ğŸ“Š å®Œæ•´æ·±åº¦åˆ†æ</h3>
                    <div class="example-content">
                        <div class="example-description">
                            <p>åŒ…å«æ–‡ç« è‰ç¨¿ã€FAQ å’Œæ¯”è¼ƒè¡¨æ ¼çš„å®Œæ•´åˆ†æï¼Œé©åˆå…§å®¹å‰µä½œã€‚</p>
                        </div>
                        <div class="code-block">
                            <div class="code-header">
                                <span>POST /api/analyze</span>
                                <button class="copy-btn" onclick="copyToClipboard('full-example')">è¤‡è£½</button>
                            </div>
                            <pre id="full-example"><code>{
  "keyword": "WordPress SEO å„ªåŒ–",
  "audience": "éƒ¨è½å®¢å’Œå°ä¼æ¥­ä¸»",
  "options": {
    "generate_draft": true,
    "include_faq": true,
    "include_table": true
  }
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ•ˆèƒ½æŒ‡æ¨™èªªæ˜ -->
            <div class="performance-metrics">
                <h3>ğŸ“ˆ æ•ˆèƒ½æŒ‡æ¨™èªªæ˜</h3>
                <div class="metrics-grid">
                    <div class="metric-item">
                        <h4>â±ï¸ è™•ç†æ™‚é–“</h4>
                        <p><strong>ç›®æ¨™</strong>: < 60 ç§’<br>
                        <strong>å¹³å‡</strong>: 20-35 ç§’<br>
                        <strong>ç›£æ§</strong>: å³æ™‚éšæ®µè¨ˆæ™‚</p>
                    </div>
                    <div class="metric-item">
                        <h4>ğŸ¯ æˆåŠŸç‡</h4>
                        <p><strong>ç›®æ¨™</strong>: > 95%<br>
                        <strong>ç›£æ§</strong>: è‡ªå‹•é‡è©¦æ©Ÿåˆ¶<br>
                        <strong>å ±å‘Š</strong>: è©³ç´°éŒ¯èª¤è¿½è¹¤</p>
                    </div>
                    <div class="metric-item">
                        <h4>ğŸ”„ ä¸¦ç™¼èƒ½åŠ›</h4>
                        <p><strong>æ”¯æ´</strong>: 3-5 å€‹åŒæ™‚è«‹æ±‚<br>
                        <strong>ä½‡åˆ—</strong>: æ™ºèƒ½è«‹æ±‚æ’ç¨‹<br>
                        <strong>é™åˆ¶</strong>: æ¯åˆ†é˜ 20 æ¬¡</p>
                    </div>
                    <div class="metric-item">
                        <h4>ğŸ’° Token æ•ˆç‡</h4>
                        <p><strong>ç¯„åœ</strong>: 5,000-7,000/æ¬¡<br>
                        <strong>å„ªåŒ–</strong>: å‹•æ…‹å…§å®¹æˆªå–<br>
                        <strong>ç›£æ§</strong>: å³æ™‚ä½¿ç”¨é‡è¿½è¹¤</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Swagger UI å®¹å™¨ -->
    <div id="swagger-ui"></div>
    
    <!-- Swagger UI JS -->
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-standalone-preset.js"></script>
    
    <script>
        window.onload = function() {
            const ui = SwaggerUIBundle({
                url: "{{openapi_url}}",
                dom_id: '#swagger-ui',
                deepLinking: true,
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIStandalonePreset
                ],
                plugins: [
                    SwaggerUIBundle.plugins.DownloadUrl
                ],
                layout: "StandaloneLayout",
                defaultModelsExpandDepth: -1,
                defaultModelExpandDepth: 1,
                docExpansion: "list",
                filter: true,
                showRequestDuration: true,
                tryItOutEnabled: true,
                requestInterceptor: function(req) {
                    // å¯ä»¥åœ¨é€™è£¡æ·»åŠ è«‹æ±‚æ””æˆªé‚è¼¯
                    return req;
                },
                responseInterceptor: function(res) {
                    // å¯ä»¥åœ¨é€™è£¡æ·»åŠ å›æ‡‰æ””æˆªé‚è¼¯
                    return res;
                }
            });
            
            // æ·»åŠ è‡ªå®šç¾© CSS åˆ° Swagger UI
            setTimeout(function() {
                // éš±è— Swagger UI çš„åŸç”Ÿæ¨™é¡Œ
                const info = document.querySelector('.swagger-ui .info');
                if (info) {
                    info.style.display = 'none';
                }
                
                // è‡ªå®šç¾©æœå‹™å™¨é¸æ“‡å™¨æ¨£å¼
                const serverContainer = document.querySelector('.swagger-ui .scheme-container');
                if (serverContainer) {
                    serverContainer.style.background = '#f8f9fa';
                    serverContainer.style.border = '1px solid #dee2e6';
                }
            }, 1000);
        };
        
        // è¤‡è£½åŠŸèƒ½
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                // æ‰¾åˆ°å°æ‡‰çš„è¤‡è£½æŒ‰éˆ•ä¸¦çŸ­æš«æ”¹è®Šæ–‡å­—
                const button = element.closest('.code-block').querySelector('.copy-btn');
                const originalText = button.textContent;
                button.textContent = 'å·²è¤‡è£½!';
                button.style.background = '#48bb78';
                
                setTimeout(function() {
                    button.textContent = originalText;
                    button.style.background = '#667eea';
                }, 2000);
            }).catch(function(err) {
                console.error('è¤‡è£½å¤±æ•—:', err);
            });
        }

        // å°èˆªåŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–å°èˆªç‹€æ…‹
            initNavigation();
            
            // æ·»åŠ å°èˆªé»æ“Šè™•ç†
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    // å¦‚æœæ˜¯å¤–éƒ¨é€£çµæˆ– JavaScript è™•ç†ï¼Œä¸éœ€è¦é¡å¤–é‚è¼¯
                    if (this.getAttribute('href').startsWith('#') || this.getAttribute('onclick')) {
                        return;
                    }
                    
                    // ç§»é™¤å…¶ä»–é …ç›®çš„ active ç‹€æ…‹
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    // æ·»åŠ ç•¶å‰é …ç›®çš„ active ç‹€æ…‹
                    this.classList.add('active');
                });
            });
        });

        function initNavigation() {
            // æ ¹æ“šç•¶å‰ URL è¨­å®š active ç‹€æ…‹
            const currentPath = window.location.pathname;
            const navItems = document.querySelectorAll('.nav-item');
            
            navItems.forEach(item => {
                item.classList.remove('active');
                const href = item.getAttribute('href');
                
                if (href === currentPath || 
                    (currentPath === '/docs' && href === '/docs') ||
                    (currentPath.includes('/docs/faq') && href === '/docs/faq')) {
                    item.classList.add('active');
                }
            });
        }

        // æª¢æŸ¥é é¢è¼‰å…¥ç‹€æ…‹ä¸¦æ›´æ–°å°èˆª
        function updateNavigation() {
            initNavigation();
        }
    </script>
</body>
</html>